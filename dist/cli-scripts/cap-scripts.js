parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"FoEN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.runTask=exports.resolveElectronPlugin=exports.resolvePlugin=exports.resolveNodeFrom=exports.writePrettyJSON=exports.resolveNode=exports.hashJsFileName=exports.fixName=exports.runExec=exports.readJSON=exports.getCwd=exports.errorLog=void 0;const e=require("path"),r=require("fs"),t=require("child_process"),o=require("crypto"),n=require("chalk");function s(e){console.log(n.red(`Error: ${e}`))}function i(){return process.env.INIT_CWD}function c(e){const t=r.readFileSync(e,"utf8");return JSON.parse(t)}function l(e){return new Promise((r,o)=>{t.exec(e,(e,t,n)=>{e?o(t+n):r(t)})})}function u(e){return(e=e.replace(/\//g,"_").replace(/-/g,"_").replace(/@/g,"").replace(/_\w/g,e=>e[1].toUpperCase())).charAt(0).toUpperCase()+e.slice(1)}function a(e,r){return`${e}-${o.createHash("md5").update(`${Date.now()}-${r}-${e}`).digest("hex")}.js`}function p(...r){const t=r[0],o=r.slice(1);let n;const s=[i()];for(let e of s)if(n=x(e,t))break;return n?e.join(n,...o):null}function f(e,t){return r.writeFileSync(e,JSON.stringify(t,null,"  ")+"\n")}function x(t,o){const n=e.parse(t).root;let s,i=e.resolve(t);for(;;){if(s=e.join(i,"node_modules",o),r.existsSync(s))return s;if(i===n)return null;i=e.dirname(i)}}async function d(r){try{const o=p(r);if(!o)return console.error(`Unable to find node_modules/${r}. Are you sure ${r} is installed?`),null;const n=e.join(o,"package.json"),s=await c(n);if(!s)return null;if(s.capacitor)return{id:r,name:u(r),version:s.version,rootPath:o,repository:s.repository,manifest:s.capacitor}}catch(t){}return null}function m(r){return r.manifest&&r.manifest.electron&&r.manifest.electron.src?e.join(r.rootPath,r.manifest.electron.src,"dist/plugin.js"):null}async function g(e,r){const t=require("ora"),o=require("chalk"),n=t(e).start();try{const t=process.hrtime();let i;const c=await r(e=>i=e),l=process.hrtime(t);return i?n.info(`${e} ${o.dim("– "+i)}`):n.succeed(`${e} ${o.dim("in "+y(l))}`),c}catch(s){throw n.fail(`${e}: ${s.message?s.message:""}`),n.stop(),s}}exports.errorLog=s,exports.getCwd=i,exports.readJSON=c,exports.runExec=l,exports.fixName=u,exports.hashJsFileName=a,exports.resolveNode=p,exports.writePrettyJSON=f,exports.resolveNodeFrom=x,exports.resolvePlugin=d,exports.resolveElectronPlugin=m,exports.runTask=g;const h=["s","ms","μp"];function y(e){let r=e[0]+e[1]/1e9,t=0;for(;t<h.length-1&&!(r>=1);t++,r*=1e3);return r.toFixed(2)+h[t]}
},{}],"lx7y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.doUpdate=void 0;const e=require("path"),n=require("fs"),o=require("fs-extra"),i=require("./common");async function t(){try{const s=process.env.CAPACITOR_ROOT_DIR,c=await i.readJSON(e.join(s,"package.json")),r=c.dependencies?c.dependencies:{},l=c.devDependencies?c.devDependencies:{},a=Object.assign(Object.assign({},r),l);let d=await Promise.all(Object.keys(a).map(async e=>i.resolvePlugin(e))),p=(d=d.filter(e=>!!e)).map(n=>{let o="";if(a[n.id]&&a[n.id].startsWith("file:")){const i=a[n.id].replace(/^file:/,""),t=e.isAbsolute(i)?i:e.resolve(s,i);o=e.relative(e.join(s,"electron"),t)}else o=`${n.id}@${n.version}`;const t=i.resolveElectronPlugin(n);return{name:n.name,path:t,installStr:o,id:n.id}}).filter(e=>null!==e.path),j="",u="/* eslint-disable @typescript-eslint/no-var-requires */\n";for(const n of p){j+=` ${n.installStr}`;const o=e.join(s,"electron","node_modules",n.id,"electron","dist/plugin.js");u+=`const ${n.name} = require('${o.replace(/\\/g,"\\\\")}')\n`}u+="\nmodule.exports = {\n";for(const e of p)u+=`  ${e.name},\n`;u+="}";const f=e.join(s,"electron","node_modules","@capacitor-community","electron","dist","runtime");n.writeFileSync(e.join(f,"electron-plugins.js"),u,{encoding:"utf-8"});let g=void 0,m=void 0;const v={ts:e.join(s,"capacitor.config.ts"),js:e.join(s,"capacitor.config.js"),json:e.join(s,"capacitor.config.json")};n.existsSync(v.ts)?(g=v.ts,m="capacitor.config.ts"):n.existsSync(v.js)?(g=v.js,m="capacitor.config.js"):(g=v.json,m="capacitor.config.json"),o.copySync(g,e.join(s,"electron",m),{overwrite:!0}),j.length>0&&(console.log(`\n\nWill install:${j}\n\n`),await i.runExec(`cd ${e.join(s,"electron")} && npm i${j} && npm run rebuild-deps`))}catch(t){throw t}}exports.doUpdate=t;
},{"./common":"FoEN"}],"cMRE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.doAdd=void 0;const o=require("fs"),e=require("fs-extra"),n=require("path"),c=require("./common");async function t(){try{const i=process.env.CAPACITOR_ROOT_DIR,s=n.join(i,"node_modules","@capacitor-community","electron","template"),r=n.join(i,"electron");let a=void 0,p=void 0;const j={ts:n.join(i,"capacitor.config.ts"),js:n.join(i,"capacitor.config.js"),json:n.join(i,"capacitor.config.json")};o.existsSync(j.ts)?(a=j.ts,p="capacitor.config.ts"):o.existsSync(j.js)?(a=j.js,p="capacitor.config.js"):(a=j.json,p="capacitor.config.json");const d=JSON.parse(process.env.CAPACITOR_CONFIG),y=process.env.CAPACITOR_WEB_DIR;if(o.existsSync(r))throw new Error("Electron platform already exists.");{e.copySync(s,r),e.copySync(a,n.join(r,p)),o.renameSync(n.join(r,"gitignore"),n.join(r,".gitignore")),e.copySync(y,n.join(r,"app"));const t=d.appName,i=c.readJSON(n.join(r,"package.json"));i.name=t,c.writePrettyJSON(n.join(r,"package.json"),i),await c.runExec(`cd ${r} && npm i`)}}catch(t){throw t}}exports.doAdd=t;
},{"./common":"FoEN"}],"iozI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.doCopy=void 0;const e=require("fs"),o=require("fs-extra"),r=require("./common"),s=require("path");async function t(){const t=process.env.CAPACITOR_ROOT_DIR,c=process.env.CAPACITOR_WEB_DIR,n=s.join(t,"electron","app");try{e.existsSync(n)&&o.removeSync(n),o.copySync(c,n)}catch(p){throw r.errorLog(p.message),p}}exports.doCopy=t;
},{"./common":"FoEN"}],"ToPB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.doOpen=void 0;const e=require("path"),r=require("./common");async function o(){const o=process.env.CAPACITOR_ROOT_DIR,t=e.join(o,"electron");try{await r.runExec(`cd ${t} && npm run electron:start`)}catch(n){throw r.errorLog(n.message),n}}exports.doOpen=o;
},{"./common":"FoEN"}],"Focm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const a=require("./common"),e=require("./update"),r=require("./add"),n=require("./copy"),t=require("./open");async function c(){return await a.runTask("Updating Electron plugins",async()=>await e.doUpdate())}async function o(){return await a.runTask("Adding Electron platform",async()=>r.doAdd())}async function i(){return await a.runTask("Copying Web App to Electron platform",async()=>await n.doCopy())}async function s(){return await a.runTask("Opening Electron platform",async()=>await t.doOpen())}(async()=>{const a=process.argv[2]?process.argv[2]:null;if(null===a)throw new Error(`Invalid script chosen: ${a}`);switch(a){case"add":await o(),await c();break;case"copy":await i();break;case"run":case"open":await s();break;case"update":await c();break;case"sync":await i(),await c();break;default:throw new Error(`Invalid script chosen: ${a}`)}})();
},{"./common":"FoEN","./update":"lx7y","./add":"cMRE","./copy":"iozI","./open":"ToPB"}]},{},["Focm"], null)